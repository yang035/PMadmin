(function(A){if(typeof define==="function"&&define.amd){define(["jquery"],A)}else{if(typeof module==="object"&&module.exports){module.exports=A(require("jquery"))}else{A(jQuery)}}}(function(I){var A=Array.prototype.slice;var E=Array.prototype.splice;var B={topSpacing:0,bottomSpacing:0,className:"is-sticky",wrapperClassName:"sticky-wrapper",center:false,getWidthFrom:"",widthFromWrapper:true,responsiveWidth:false},K=I(window),F=I(document),G=[],H=K.height(),C=function(){var Q=K.scrollTop(),N=F.height(),U=N-H,P=(Q>U)?U-Q:0;for(var R=0,S=G.length;R<S;R++){var M=G[R],V=M.stickyWrapper.offset().top,T=V-M.topSpacing-P;M.stickyWrapper.css("height",M.stickyElement.outerHeight());if(Q<=T){if(M.currentTop!==null){M.stickyElement.css({"width":"","position":"","top":""});M.stickyElement.parent().removeClass(M.className);M.stickyElement.trigger("sticky-end",[M]);M.currentTop=null}}else{var W=N-M.stickyElement.outerHeight()-M.topSpacing-M.bottomSpacing-Q-P;if(W<0){W=W+M.topSpacing}else{W=M.topSpacing}if(M.currentTop!==W){var X;if(M.getWidthFrom){X=I(M.getWidthFrom).width()||null}else{if(M.widthFromWrapper){X=M.stickyWrapper.width()}}if(X==null){X=M.stickyElement.width()}M.stickyElement.css("width",X).css("position","fixed").css("top",W);M.stickyElement.parent().addClass(M.className);if(M.currentTop===null){M.stickyElement.trigger("sticky-start",[M])}else{M.stickyElement.trigger("sticky-update",[M])}if(M.currentTop===M.topSpacing&&M.currentTop>W||M.currentTop===null&&W<M.topSpacing){M.stickyElement.trigger("sticky-bottom-reached",[M])}else{if(M.currentTop!==null&&W===M.topSpacing&&M.currentTop<W){M.stickyElement.trigger("sticky-bottom-unreached",[M])}}M.currentTop=W}var L=M.stickyWrapper.parent();var O=(M.stickyElement.offset().top+M.stickyElement.outerHeight()>=L.offset().top+L.outerHeight())&&(M.stickyElement.offset().top<=M.topSpacing);if(O){M.stickyElement.css("position","absolute").css("top","").css("bottom",0)}else{M.stickyElement.css("position","fixed").css("top",W).css("bottom","")}}}},J=function(){H=K.height();for(var L=0,N=G.length;L<N;L++){var M=G[L];var O=null;if(M.getWidthFrom){if(M.responsiveWidth){O=I(M.getWidthFrom).width()}}else{if(M.widthFromWrapper){O=M.stickyWrapper.width()}}if(O!=null){M.stickyElement.css("width",O)}}},D={init:function(M){var L=I.extend({},B,M);return this.each(function(){var Q=I(this);var R=Q.attr("id");var P=R?R+"-"+B.wrapperClassName:B.wrapperClassName;var N=I("<div></div>").attr("id",P).addClass(L.wrapperClassName);Q.wrapAll(N);var O=Q.parent();if(L.center){O.css({width:Q.outerWidth(),marginLeft:"auto",marginRight:"auto"})}if(Q.css("float")==="right"){Q.css({"float":"none"}).parent().css({"float":"right"})}L.stickyElement=Q;L.stickyWrapper=O;L.currentTop=null;G.push(L);D.setWrapperHeight(this);D.setupChangeListeners(this)})},setWrapperHeight:function(M){var N=I(M);var L=N.parent();if(L){L.css("height",N.outerHeight())}},setupChangeListeners:function(M){if(window.MutationObserver){var L=new window.MutationObserver(function(N){if(N[0].addedNodes.length||N[0].removedNodes.length){D.setWrapperHeight(M)}});L.observe(M,{subtree:true,childList:true})}else{M.addEventListener("DOMNodeInserted",function(){D.setWrapperHeight(M)},false);M.addEventListener("DOMNodeRemoved",function(){D.setWrapperHeight(M)},false)}},update:C,unstick:function(L){return this.each(function(){var N=this;var P=I(N);var O=-1;var M=G.length;while(M-->0){if(G[M].stickyElement.get(0)===N){E.call(G,M,1);O=M}}if(O!==-1){P.unwrap();P.css({"width":"","position":"","top":"","float":""})}})}};if(window.addEventListener){window.addEventListener("scroll",C,false);window.addEventListener("resize",J,false)}else{if(window.attachEvent){window.attachEvent("onscroll",C);window.attachEvent("onresize",J)}}I.fn.sticky=function(L){if(D[L]){return D[L].apply(this,A.call(arguments,1))}else{if(typeof L==="object"||!L){return D.init.apply(this,arguments)}else{I.error("Method "+L+" does not exist on jQuery.sticky")}}};I.fn.unstick=function(L){if(D[L]){return D[L].apply(this,A.call(arguments,1))}else{if(typeof L==="object"||!L){return D.unstick.apply(this,arguments)}else{I.error("Method "+L+" does not exist on jQuery.sticky")}}};I(function(){setTimeout(C,0)})}));