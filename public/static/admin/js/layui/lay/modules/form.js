layui.define("layer",function(f){var h=layui.$,k=layui.layer,e=layui.hint(),b=layui.device(),m="form",d=".layui-form",o="layui-this",n="layui-show",g="layui-hide",j="layui-disabled",i=function(){this.config={verify:{required:[/[\S]+/,"必填项不能为空"],phone:[/^1\d{10}$/,"请输入正确的手机号"],email:[/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/,"邮箱格式不正确"],url:[/(^#)|(^http(s*):\/\/[^\s]+\.[^\s]+)/,"链接格式不正确"],number:function(q){if(!q||isNaN(q)){return"只能填写数字"}},date:[/^(\d{4})[-\/](\d{1}|0\d{1}|1[0-2])([-\/](\d{1}|0\d{1}|[1-2][0-9]|3[0-1]))*$/,"日期格式不正确"],identity:[/(^\d{15}$)|(^\d{17}(x|X|\d)$)/,"请输入正确的身份证号"]}}};i.prototype.set=function(q){var r=this;h.extend(true,r.config,q);return r};i.prototype.verify=function(q){var r=this;h.extend(true,r.config.verify,q);return r};i.prototype.on=function(q,r){return layui.onevent.call(this,m,q,r)};i.prototype.val=function(r,q){var s=this,t=h(d+'[lay-filter="'+r+'"]');t.each(function(v,w){var u=h(this);layui.each(q,function(x,z){var A=u.find('[name="'+x+'"]'),y;if(!A[0]){return}y=A[0].type;if(y==="checkbox"){A[0].checked=z}else{if(y==="radio"){A.each(function(){if(this.value===z){this.checked=true}})}else{A.val(z)}}})});a.render(null,r)};i.prototype.render=function(s,r){var t=this,u=h(d+function(){return r?('[lay-filter="'+r+'"]'):""}()),q={select:function(){var x="请选择",D="layui-form-select",w="layui-select-title",z="layui-select-none",B="",v,A=u.find("select"),y=function(F,E){if(!h(F.target).parent().hasClass(w)||E){h("."+D).removeClass(D+"ed "+D+"up");v&&B&&v.val(B)}v=null},C=function(O,G,M){var Q=h(this),N=O.find("."+w),P=N.find("input"),J=O.find("dl"),S=J.children("dd"),K=this.selectedIndex,I;if(G){return}var L=function(){var V=O.offset().top+O.outerHeight()+5-c.scrollTop(),U=J.outerHeight();K=Q[0].selectedIndex;O.addClass(D+"ed");S.removeClass(g);I=null;S.eq(K).addClass(o).siblings().removeClass(o);if(V+U>c.height()&&V>=U){O.addClass(D+"up")}R()},H=function(U){O.removeClass(D+"ed "+D+"up");P.blur();I=null;if(U){return}E(P.val(),function(W){var V=Q[0].selectedIndex;if(W){B=h(Q[0].options[V]).html();if(V===0&&B===P.attr("placeholder")){B=""}P.val(B||"")}})},R=function(){var W=J.children("dd."+o);if(!W[0]){return}var X=W.position().top,V=J.height(),U=W.height();if(X>V){J.scrollTop(X+J.scrollTop()-V+U-5)}if(X<0){J.scrollTop(X+J.scrollTop()-5)}};N.on("click",function(U){O.hasClass(D+"ed")?(H()):(y(U,true),L());J.find("."+z).remove()});N.find(".layui-edge").on("click",function(){P.focus()});P.on("keyup",function(V){var U=V.keyCode;if(U===9){L()}}).on("keydown",function(W){var V=W.keyCode;if(V===9){H()}var U=function(X,ab){var aa,Z;W.preventDefault();var Y=function(){var ae=J.children("dd."+o);if(J.children("dd."+g)[0]&&X==="next"){var ad=J.children("dd:not(."+g+",."+j+")"),ac=ad.eq(0).index();if(ac>=0&&ac<ae.index()&&!ad.hasClass(o)){return ad.eq(0).prev()[0]?ad.eq(0).prev():J.children(":last")}}if(ab&&ab[0]){return ab}if(I&&I[0]){return I}return ae}();Z=Y[X]();aa=Y[X]("dd:not(."+g+")");if(!Z[0]){return I=null}I=Y[X]();if((!aa[0]||aa.hasClass(j))&&I[0]){return U(X,I)}aa.addClass(o).siblings().removeClass(o);R()};if(V===38){U("prev")}if(V===40){U("next")}if(V===13){W.preventDefault();J.children("dd."+o).trigger("click")}});var F=function(W,X,Y){var V;if(escape(W).indexOf("%u")!=-1){V=X.indexOf(W)>-1}else{var U=W.length;V=ConvertPinyin(X).substring(0,U)===W||makePy(X)[0].toLowerCase().substring(0,U)===W||X.toLowerCase().indexOf(W)>-1||(Y===undefined?false:Y.indexOf(W)>-1)}if(V==true){return false}else{return true}};var E=function(X,Y,U){var V=0;layui.each(S,function(){var aa=h(this),ab=aa.text(),ac=aa.attr("layui-value"),Z=F(X,ab,ac);if(X===""||(U==="blur")?X!==ab:Z){V++}U==="keyup"&&aa[Z?"addClass":"removeClass"](g)});var W=V===S.length;return Y(W),W};var T=function(W){var U=this.value,V=W.keyCode;if(V===9||V===13||V===37||V===38||V===39||V===40){return false}E(U,function(X){if(X){J.find("."+z)[0]||J.append('<p class="'+z+'">无匹配项</p>')}else{J.find("."+z).remove()}},"keyup");if(U===""){J.find("."+z).remove()}R()};if(M){P.on("keyup",T).on("blur",function(V){var U=Q[0].selectedIndex;v=P;B=h(Q[0].options[U]).html();if(U===0&&B===P.attr("placeholder")){B=""}setTimeout(function(){E(P.val(),function(W){B||P.val("")},"blur")},200)})}S.on("click",function(){var W=h(this),V=W.attr("lay-value");var U=Q.attr("lay-filter");if(W.hasClass(j)){return false}if(W.hasClass("layui-select-tips")){P.val("")}else{P.val(W.text());W.addClass(o)}W.siblings().removeClass(o);Q.val(V).removeClass("layui-form-danger");layui.event.call(this,m,"select("+U+")",{elem:Q[0],value:V,othis:O});H(true);return false});O.find("dl>dt").on("click",function(U){return false});h(document).off("click",y).on("click",y)};A.each(function(J,M){var E=h(this),F=E.next("."+D),G=this.disabled,O=M.value,H=h(M.options[M.selectedIndex]),I=M.options[0];if(typeof E.attr("lay-ignore")==="string"){return E.show()}var K=typeof E.attr("lay-search")==="string",N=I?(I.value?x:(I.innerHTML||x)):x;var L=h(['<div class="'+(K?"":"layui-unselect ")+D,(G?" layui-select-disabled":"")+'">','<div class="'+w+'">',('<input type="text" placeholder="'+N+'" '+('value="'+(O?H.html():"")+'"')+(K?"":" readonly")+' class="layui-input'+(K?"":" layui-unselect")+(G?(" "+j):"")+'">'),'<i class="layui-edge"></i></div>','<dl class="layui-anim layui-anim-upbit'+(E.find("optgroup")[0]?" layui-select-group":"")+'">',function(Q){var P=[];
        layui.each(Q,function(R,S){if(R===0&&!S.value){P.push('<dd lay-value="" class="layui-select-tips">'+(S.innerHTML||x)+"</dd>")}else{if(S.tagName.toLowerCase()==="optgroup"){P.push("<dt>"+S.label+"</dt>")}else{P.push('<dd lay-value="'+S.value+'" class="'+(O===S.value?o:"")+(S.disabled?(" "+j):"")+'">'+S.innerHTML+"</dd>")}}});P.length===0&&P.push('<dd lay-value="" class="'+j+'">没有选项</dd>');return P.join("")}(E.find("*"))+"</dl>","</div>"].join(""));F[0]&&F.remove();E.after(L);C.call(this,L,G,K)})},checkbox:function(){var x={checkbox:["layui-form-checkbox","layui-form-checked","checkbox"],_switch:["layui-form-switch","layui-form-onswitch","switch"]},v=u.find("input[type=checkbox]"),w=function(A,z){var y=h(this);A.on("click",function(){var B=y.attr("lay-filter"),C=(y.attr("lay-text")||"").split("|");if(y[0].disabled){return}y[0].checked?(y[0].checked=false,A.removeClass(z[1]).find("em").text(C[1])):(y[0].checked=true,A.addClass(z[1]).find("em").text(C[0]));layui.event.call(y[0],m,z[2]+"("+B+")",{elem:y[0],value:y[0].value,othis:A})})};v.each(function(C,y){var z=h(this),G=z.attr("lay-skin"),F=(z.attr("lay-text")||"").split("|"),B=this.disabled;if(G==="switch"){G="_"+G}var E=x[G]||x.checkbox;if(typeof z.attr("lay-ignore")==="string"){return z.show()}var A=z.next("."+E[0]),D=h(['<div class="layui-unselect '+E[0],(y.checked?(" "+E[1]):""),(B?" layui-checkbox-disbaled "+j:""),'"',(G?' lay-skin="'+G+'"':""),">",function(){var I=y.title.replace(/\s/g,""),H={checkbox:[(I?("<span>"+y.title+"</span>"):""),'<i class="layui-icon layui-icon-ok"></i>'].join(""),_switch:"<em>"+((y.checked?F[0]:F[1])||"")+"</em><i></i>"};return H[G]||H["checkbox"]}(),"</div>"].join(""));A[0]&&A.remove();z.after(D);w.call(this,D,E)})},radio:function(){var w="layui-form-radio",y=["&#xe643;","&#xe63f;"],x=u.find("input[type=radio]"),v=function(A){var B=h(this),z="layui-anim-scaleSpring";A.on("click",function(){var D=B[0].name,C=B.parents(d);var F=B.attr("lay-filter");var E=C.find("input[name="+D.replace(/(\.|#|\[|\])/g,"\\$1")+"]");if(B[0].disabled){return}layui.each(E,function(){var G=h(this).next("."+w);this.checked=false;G.removeClass(w+"ed");G.find(".layui-icon").removeClass(z).html(y[1])});B[0].checked=true;A.addClass(w+"ed");A.find(".layui-icon").addClass(z).html(y[0]);layui.event.call(B[0],m,"radio("+F+")",{elem:B[0],value:B[0].value,othis:A})})};x.each(function(C,B){var E=h(this),z=E.next("."+w),D=this.disabled;if(typeof E.attr("lay-ignore")==="string"){return E.show()}z[0]&&z.remove();var A=h(['<div class="layui-unselect '+w,(B.checked?(" "+w+"ed"):""),(D?" layui-radio-disbaled "+j:"")+'">','<i class="layui-anim layui-icon">'+y[B.checked?0:1]+"</i>","<div>"+function(){var F=B.title||"";if(typeof E.next().attr("lay-radio")==="string"){F=E.next().html();E.next().remove()}return F}()+"</div>","</div>"].join(""));E.after(A);v.call(this,A)})}};s?(q[s]?q[s]():e.error("不支持的"+s+"表单渲染")):layui.each(q,function(v,w){w()});return t};var l=function(){var v=h(this),y=a.config.verify,z=null,w="layui-form-danger",A={},u=v.parents(d),q=u.find("*[lay-verify]"),s=v.parents("form")[0],r=u.find("input,select,textarea"),t=v.attr("lay-filter");layui.each(q,function(C,D){var F=h(this),B=F.attr("lay-verify").split("|"),G=F.attr("lay-verType"),E=F.val();F.removeClass(w);layui.each(B,function(L,J){var I,H="",K=typeof y[J]==="function";if(y[J]){var I=K?H=y[J](E,D):!y[J][0].test(E);H=H||y[J][1];if(I){if(G==="tips"){k.tips(H,function(){if(typeof F.attr("lay-ignore")!=="string"){if(D.tagName.toLowerCase()==="select"||/^checkbox|radio$/.test(D.type)){return F.next()}}return F}(),{tips:1})}else{if(G==="alert"){k.alert(H,{title:"提示",shadeClose:true})}else{k.msg(H,{icon:5,shift:6})}}if(!b.android&&!b.ios){D.focus()}F.addClass(w);return z=true}}});if(z){return z}});if(z){return false}var x={};layui.each(r,function(B,D){D.name=(D.name||"").replace(/^\s*|\s*&/,"");if(!D.name){return}if(/^.*\[\]$/.test(D.name)){var C=D.name.match(/^(.*)\[\]$/g)[0];x[C]=x[C]|0;D.name=D.name.replace(/^(.*)\[\]$/,"$1["+(x[C]++)+"]")}if(/^checkbox|radio$/.test(D.type)&&!D.checked){return}A[D.name]=D.value});return layui.event.call(this,m,"submit("+t+")",{elem:this,form:s,field:A})};var a=new i(),p=h(document),c=h(window);a.render();p.on("reset",d,function(){var q=h(this).attr("lay-filter");setTimeout(function(){a.render(null,q)},50)});p.on("submit",d,l).on("click","*[lay-submit]",l);f(m,a)});